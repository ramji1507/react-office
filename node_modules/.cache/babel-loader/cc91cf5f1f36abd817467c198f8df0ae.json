{"ast":null,"code":"import _classCallCheck from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Col,Row,Container,Button,Spinner,Pagination}from'react-bootstrap';import WooCommerce from'../Api';import{BrowserRouter as Router,Route,Link,Switch}from'react-router-dom';import SideMenu from'./SideMenu';import axios from'axios';var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);function Product(props){var _this;_classCallCheck(this,Product);_this=_possibleConstructorReturn(this,_getPrototypeOf(Product).call(this,props));_this.pageChanged=_this.pageChanged.bind(_assertThisInitialized(_this));_this.state={error:null,isLoaded:false,currentPage:1,per_page_product:20,total_items:null,category:[],items:[]};return _this;}_createClass(Product,[{key:\"getData\",value:function getData(page){var that=this;if(page){var page=page;}else{var page=1;}WooCommerce.getAsync('products?per_page='+that.state.per_page_product+'&page='+page).then(function(result){console.log(JSON.parse(result.toJSON().body));that.setState({isLoaded:true,total_items:result.headers['x-wp-total'],items:JSON.parse(result.toJSON().body)});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"pageChanged\",value:function pageChanged(e){this.setState({currentPage:e.target.text});this.getData(e.target.text);}},{key:\"productlist\",value:function productlist(){return this.state.items.map(function(item){return React.createElement(Col,{key:item.id,xs:3,className:\"product_item\"},\" \",React.createElement(\"div\",{key:item.id},React.createElement(\"img\",{width:\"100%\",alt:\"product\",src:item.images[0].src}),React.createElement(Link,{to:\"/product/\".concat(item.id)},React.createElement(\"h4\",null,item.name)),React.createElement(\"h6\",null,\" $\",item.price),React.createElement(Button,{variant:\"outline-primary\",className:\"add_to_cart_btn\",href:\"/product/\".concat(item.id)},\"Buy Now\")));});}//render  list\n},{key:\"render\",value:function render(){console.log(this.state.currentPage);var all_page=this.state.total_items/this.state.per_page_product;var active=this.state.currentPage;var Pitems=[];//const indexOfLastTodo = this.state.currentPage * this.state.per_page_product;\n// const indexOfFirstTodo = indexOfLastTodo - this.state.per_page_product;\n//  const renderedProduct = this.state.items.slice(indexOfFirstTodo, indexOfLastTodo);\nfor(var number=1;number<=all_page;number++){Pitems.push(React.createElement(Pagination.Item,{key:number,active:number===active},number));}var paginationBasic=React.createElement(\"div\",null,React.createElement(Pagination,{onClick:this.pageChanged},Pitems));if(!this.state.isLoaded){return React.createElement(Spinner,{animation:\"border\",variant:\"primary\"});}return React.createElement(Container,null,React.createElement(Row,null,React.createElement(Col,{xs:3},React.createElement(SideMenu,null)),React.createElement(Col,{xs:9},React.createElement(Row,null,this.productlist()))),React.createElement(\"div\",{className:\"page_cont\"},paginationBasic));}}]);return Product;}(Component);export default Product;","map":{"version":3,"sources":["E:/react-git/react-office/src/components/Product.js"],"names":["React","Component","Col","Row","Container","Button","Spinner","Pagination","WooCommerce","BrowserRouter","Router","Route","Link","Switch","SideMenu","axios","Product","props","pageChanged","bind","state","error","isLoaded","currentPage","per_page_product","total_items","category","items","page","that","getAsync","then","result","console","log","JSON","parse","toJSON","body","setState","headers","getData","e","target","text","map","item","id","images","src","name","price","all_page","active","Pitems","number","push","paginationBasic","productlist"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Col, Row, Container, Button, Spinner, Pagination } from 'react-bootstrap';\nimport WooCommerce from '../Api';\nimport {BrowserRouter as Router, Route, Link, Switch} from 'react-router-dom';\nimport SideMenu from './SideMenu';\nimport axios from 'axios';\n\n\n class Product extends Component {\n       constructor(props) {\n          super(props);\n           this.pageChanged = this.pageChanged.bind(this);\n          this.state = {\n             error: null,\n             isLoaded: false,\n             currentPage: 1,\n             per_page_product: 20,\n             total_items:null,\n             category: [],\n             items: []\n            \n          }\n            \n        }\n\n     \n\n     getData(page){\n     const that = this;\n    \n\n      if (page) {\n        var page = page;\n       \n     }else{\n      var page = 1;\n     }\n    WooCommerce.getAsync('products?per_page='+that.state.per_page_product+'&page='+page)\n     .then(function(result) {\n      console.log(JSON.parse(result.toJSON().body));\n      that.setState({\n          isLoaded: true,\n          total_items: result.headers['x-wp-total'],\n          items: JSON.parse(result.toJSON().body),\n        })\n            \n      })\n\n      \n     \n  }\n \n  \n  componentDidMount(){\n    this.getData();\n   \n\n  }\n   pageChanged(e) {\n\n    this.setState({ currentPage: e.target.text });\n    this.getData(e.target.text);\n\n  }\n  productlist(){\n    return (\n        this.state.items.map((item) => {\n          return (\n              <Col key={item.id} xs={3} className=\"product_item\"> <div key={item.id}>\n               \n                <img width=\"100%\" alt=\"product\" src={item.images[0].src} />\n                <Link to={`/product/${item.id}`}><h4>{item.name}</h4></Link>\n                <h6> ${item.price}</h6>\n               \n                 <Button variant=\"outline-primary\" className=\"add_to_cart_btn\" href={`/product/${item.id}`}>Buy Now</Button>\n                 {/* <Link to={`/product/${item.id}`}  className=\"add_to_cart_btn\">Buy Now</Link> */}\n                  </div>\n              </Col>\n             \n             );\n            })    \n    );\n  }\n  \n//render  list\n  render () {\n      console.log(this.state.currentPage);\n      \n      const all_page = this.state.total_items / this.state.per_page_product;\n      let active = this.state.currentPage;\n      let Pitems = [];   \n      //const indexOfLastTodo = this.state.currentPage * this.state.per_page_product;\n     // const indexOfFirstTodo = indexOfLastTodo - this.state.per_page_product;\n    //  const renderedProduct = this.state.items.slice(indexOfFirstTodo, indexOfLastTodo);\n     \n      for (let number = 1; number <= all_page; number++) {\n        Pitems.push(\n          <Pagination.Item key={number} active={number === active}>\n            {number}\n          </Pagination.Item>\n          \n          ,\n        );\n      }\n\nconst paginationBasic = (\n  <div>\n    <Pagination onClick={this.pageChanged}>{Pitems}</Pagination>\n   \n  </div>\n);\n         if (!this.state.isLoaded) {\n            return (\n               <Spinner animation=\"border\" variant=\"primary\" />\n            );\n         }\n                  return(\n        <Container>\n       \n          <Row>\n\n<Col xs={3}>\n\n   < SideMenu />\n</Col>\n<Col xs={9}>\n   \n         <Row>\n        {this.productlist()}\n        </Row>\n</Col>\n</Row>        \n        \n           <div className=\"page_cont\">\n           {paginationBasic}\n          </div>  \n            \n          </Container>\n    )\n               \n        }\n    }\n\nexport default Product;"]},"metadata":{},"sourceType":"module"}