{"ast":null,"code":"var _jsxFileName = \"E:\\\\react-office\\\\src\\\\components\\\\CategoryPage.js\";\nimport React, { Component } from 'react';\nimport { Col, Row, Container, Button, Spinner, Pagination } from 'react-bootstrap';\nimport WooCommerce from '../Api';\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom';\nimport SideMenu from './SideMenu';\n\nclass CategoryPage extends Component {\n  constructor(props, state) {\n    // console.log(props);\n    super(props, state);\n    this.pageChanged = this.pageChanged.bind(this);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      cat_id: props.match.params.id,\n      currentPage: 1,\n      per_page_product: 8,\n      total_items: null,\n      items: {}\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    var categoryId = newProps.match.params.id;\n    this.setState({\n      cat_id: categoryId\n    }, () => {\n      this.getcatData();\n    });\n  }\n\n  getcatData(page) {\n    const that = this;\n\n    if (page) {\n      var page = page;\n    } else {\n      var page = 1;\n    }\n\n    var category_id = this.state.cat_id;\n    WooCommerce.getAsync('products/?page=' + page + '&per_page=' + that.state.per_page_product + '&category=' + category_id).then(function (result) {\n      console.log(result);\n      that.setState({\n        isLoaded: true,\n        total_items: result.headers['x-wp-total'],\n        items: JSON.parse(result.toJSON().body)\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getcatData();\n  }\n\n  pageChanged(e) {\n    this.setState({\n      currentPage: e.target.text\n    });\n    this.getcatData(e.target.text);\n  }\n\n  catproductlist() {\n    return this.state.items.map(item => {\n      return React.createElement(Col, {\n        key: item.id,\n        xs: 3,\n        className: \"product_item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        width: \"100%\",\n        alt: \"product\",\n        src: item.images[0].src,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: `/product/${item.id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, item.name)), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \" $\", item.price), React.createElement(Button, {\n        variant: \"outline-primary\",\n        className: \"add_to_cart_btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Add to cart\")));\n    });\n  }\n\n  render() {\n    const all_page = this.state.total_items / this.state.per_page_product;\n    let active = this.state.currentPage;\n    let Pitems = []; //const indexOfLastTodo = this.state.currentPage * this.state.per_page_product;\n    // const indexOfFirstTodo = indexOfLastTodo - this.state.per_page_product;\n    //  const renderedProduct = this.state.items.slice(indexOfFirstTodo, indexOfLastTodo);\n\n    for (let number = 1; number <= all_page; number++) {\n      Pitems.push(React.createElement(Pagination.Item, {\n        key: number,\n        active: number === active,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, number));\n    }\n\n    const paginationBasic = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      onClick: this.pageChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, Pitems));\n\n    if (!this.state.isLoaded) {\n      return React.createElement(Spinner, {\n        animation: \"border\",\n        variant: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(SideMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.catproductlist()))), React.createElement(\"div\", {\n      className: \"page_cont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, paginationBasic));\n  }\n\n}\n\nexport default CategoryPage;","map":{"version":3,"sources":["E:/react-office/src/components/CategoryPage.js"],"names":["React","Component","Col","Row","Container","Button","Spinner","Pagination","WooCommerce","BrowserRouter","Router","Route","Link","Switch","SideMenu","CategoryPage","constructor","props","state","pageChanged","bind","error","isLoaded","cat_id","match","params","id","currentPage","per_page_product","total_items","items","componentWillReceiveProps","newProps","categoryId","setState","getcatData","page","that","category_id","getAsync","then","result","console","log","headers","JSON","parse","toJSON","body","componentDidMount","e","target","text","catproductlist","map","item","images","src","name","price","render","all_page","active","Pitems","number","push","paginationBasic"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Col, Row, Container, Button, Spinner, Pagination } from 'react-bootstrap';\nimport WooCommerce from '../Api';\nimport {BrowserRouter as Router, Route, Link, Switch} from 'react-router-dom';\nimport SideMenu from './SideMenu';\n\nclass CategoryPage extends Component \n{\n  constructor(props, state) {\n   // console.log(props);\n   \n    super(props, state);\n    this.pageChanged = this.pageChanged.bind(this);\n    this.state = {\n    error: null,\n\t  isLoaded: false,\n    cat_id : props.match.params.id,\n    currentPage: 1,\n    per_page_product: 8,\n    total_items:null,\n    items: {}\n    };\n  }\n  componentWillReceiveProps(newProps){\n    var categoryId = newProps.match.params.id;\n    this.setState({cat_id:categoryId}, () => {\n      this.getcatData();\n    });\n    \n    }\n  \n\n  getcatData(page) {\n    const that = this;\n    if (page) {\n      var page = page;\n     \n   }else{\n    var page = 1;\n   }\n     var category_id = this.state.cat_id;\n      WooCommerce.getAsync('products/?page='+page+'&per_page='+that.state.per_page_product+'&category='+category_id).then(function(result) {\n        console.log(result);\n        that.setState({\n          isLoaded: true,\n          total_items: result.headers['x-wp-total'],\n          items: JSON.parse(result.toJSON().body)\n        });\n      });\n    }\n  \n    \n\n    componentDidMount() {\n      this.getcatData();\n      }\n      pageChanged(e) {\n\n        this.setState({ currentPage: e.target.text });\n        this.getcatData(e.target.text);\n    \n      }\n      catproductlist(){\n        return (\n            this.state.items.map((item) => {\n              return (\n                  <Col key={item.id} xs={3} className=\"product_item\"> \n\n                  <div key={item.id}>\n                   \n                    <img width=\"100%\" alt=\"product\" src={item.images[0].src} />\n                    <Link to={`/product/${item.id}`}><h4>{item.name}</h4></Link>\n                    <h6> ${item.price}</h6>\n                   \n                     <Button variant=\"outline-primary\" className=\"add_to_cart_btn\">Add to cart</Button>\n                  \n                      </div>\n                  </Col>\n                 \n                 );\n                })    \n        );\n      }\n    render() {\n        \n      const all_page = this.state.total_items / this.state.per_page_product;\n      let active = this.state.currentPage;\n      let Pitems = [];   \n      //const indexOfLastTodo = this.state.currentPage * this.state.per_page_product;\n     // const indexOfFirstTodo = indexOfLastTodo - this.state.per_page_product;\n    //  const renderedProduct = this.state.items.slice(indexOfFirstTodo, indexOfLastTodo);\n     \n      for (let number = 1; number <= all_page; number++) {\n        Pitems.push(\n          <Pagination.Item key={number} active={number === active}>\n            {number}\n          </Pagination.Item>\n          \n          ,\n        );\n      }\n\nconst paginationBasic = (\n  <div>\n    <Pagination onClick={this.pageChanged} >{Pitems}</Pagination>\n   \n  </div>\n);\n\n        if (!this.state.isLoaded) {\n          return (\n             <Spinner animation=\"border\" variant=\"primary\" />\n          );\n        }\n     return(\n      <Container>\n        <Row>\n         <Col xs={3}>\n      \n           < SideMenu />\n         </Col>\n         <Col xs={9}>\n         <Row>\n          {this.catproductlist()}\n      </Row>\n      </Col>\n       </Row>        \n           <div className=\"page_cont\">\n           {paginationBasic}\n          </div>  \n        </Container>\n      );\n    }\n  }\n  export default CategoryPage;"]},"metadata":{},"sourceType":"module"}