{"ast":null,"code":"var _jsxFileName = \"E:\\\\react-office\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Col, Row, Container, Button, Form } from 'react-bootstrap';\nimport axios from 'axios';\nimport WooCommerce from '../Api';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props); //this.shandleChange = this.shandleChange.bind(this);\n\n    this.loginUser = () => {\n      console.log(this.state.email);\n\n      if (this.state.email) {\n        var req = {\n          username: this.state.email,\n          password: this.state.password\n        };\n        var apiHost = 'http://veronica.codingkloud.com/wp-json';\n        fetch(apiHost + '/jwt-auth/v1/token', {\n          method: \"POST\",\n          body: JSON.stringify(req),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => response.json()).then(result => {\n          if (result.token) {\n            console.log(result.token);\n            localStorage.setItem(\"token\", result.token);\n            localStorage.setItem(\"display_name\", result.user_display_name);\n            this.setState({\n              message: \"User login successfully\",\n              redirectLogin: true\n            });\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this.shandleChange = e => {\n      e.preventDefault();\n      this.loginUser();\n    };\n\n    this.state = {\n      error: null,\n      email: '',\n      password: ''\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.loginUser();\n  }\n\n  render() {\n    //console.log(this.state.password);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.shandleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      name: \"email\",\n      onChange: e => this.handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Form.Control, {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: e => this.handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["E:/react-office/src/components/Login.js"],"names":["React","Component","Col","Row","Container","Button","Form","axios","WooCommerce","Login","constructor","props","loginUser","console","log","state","email","req","username","password","apiHost","fetch","method","body","JSON","stringify","headers","then","response","json","result","token","localStorage","setItem","user_display_name","setState","message","redirectLogin","catch","error","shandleChange","e","preventDefault","handleChange","target","name","value","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Col, Row, Container, Button, Form } from 'react-bootstrap';\nimport axios from 'axios';\nimport WooCommerce from '../Api';\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n       //this.shandleChange = this.shandleChange.bind(this);\n    this.state = {\n      error: null,\n\t  email: '',\n\t  password: '',\n    };\n  }\n\n\n  loginUser = () => {\n \t\n\tconsole.log(this.state.email);\n\tif (this.state.email) {\n\tvar req = { username: this.state.email, password: this.state.password };\n\tvar apiHost = 'http://veronica.codingkloud.com/wp-json';\n    fetch(apiHost + '/jwt-auth/v1/token', {\n            method: \"POST\",\n            body: JSON.stringify(req),\n            headers: {'Content-Type':'application/json'},\n        }).then((response) => response.json())\n                .then((result) => {\n\t\t\t        if(result.token){\n\t\t\t        \tconsole.log(result.token);\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", result.token);\n\t\t\t\t\t\tlocalStorage.setItem(\"display_name\", result.user_display_name);\n\t\t\t\t\t\tthis.setState({message: \"User login successfully\", redirectLogin: true});\n\n\t\t\t\t\t}\n                   \n                })\n                .catch((error) => {\n                    \n                    console.error(error);\n                });\n\t}\n\n  }\nhandleChange(e){\n  this.setState({[e.target.name]: e.target.value})\n}\n shandleChange = (e) => {\n\t  e.preventDefault();\n\t  this.loginUser();\n\t\t\n}\n    \n  componentDidMount(){\n    this.loginUser();\n  }\n\n  \n  render() {\n  \t//console.log(this.state.password);\n    return (\n      <div>\n       <Container>\n       <Form onSubmit={this.shandleChange}>\n  <Form.Group controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control type=\"email\" placeholder=\"Enter email\" name=\"email\" onChange={(e) => this.handleChange(e)}/>\n  </Form.Group>\n  <Form.Group controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control type=\"password\" name=\"password\" placeholder=\"Password\"  onChange={(e) => this.handleChange(e)}/>\n  </Form.Group>\n  <Button variant=\"primary\" type=\"submit\" >\n    Submit\n  </Button>\n</Form>\n      \n       </Container>\n       </div>\n    );\n  }\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}