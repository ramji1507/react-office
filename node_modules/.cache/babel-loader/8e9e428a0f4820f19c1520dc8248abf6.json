{"ast":null,"code":"import _defineProperty from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"E:\\\\react-git\\\\react-office\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Col,Row,Container,Button,Form}from'react-bootstrap';import axios from'axios';import WooCommerce from'../Api';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));//this.shandleChange = this.shandleChange.bind(this);\n_this.loginUser=function(){console.log(_this.state.email);if(_this.state.email){var req={username:_this.state.email,password:_this.state.password};var apiHost='http://veronica.codingkloud.com/wp-json';fetch(apiHost+'/jwt-auth/v1/token',{method:\"POST\",body:JSON.stringify(req),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(result){if(result.token){console.log(result.token);localStorage.setItem(\"token\",result.token);localStorage.setItem(\"display_name\",result.user_display_name);_this.setState({message:\"User login successfully\",redirectLogin:true});}}).catch(function(error){console.error(error);});}};_this.shandleChange=function(e){e.preventDefault();_this.loginUser();};_this.state={error:null,email:'',password:''};return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"componentDidMount\",value:function componentDidMount(){this.loginUser();}},{key:\"render\",value:function render(){var _this2=this;//console.log(this.state.password);\nreturn React.createElement(\"div\",null,React.createElement(Container,null,React.createElement(Form,{onSubmit:this.shandleChange},React.createElement(Form.Group,{controlId:\"formBasicEmail\"},React.createElement(Form.Label,null,\"Email address\"),React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",name:\"email\",onChange:function onChange(e){return _this2.handleChange(e);}})),React.createElement(Form.Group,{controlId:\"formBasicPassword\"},React.createElement(Form.Label,null,\"Password\"),React.createElement(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:function onChange(e){return _this2.handleChange(e);}})),React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\"))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["E:/react-git/react-office/src/components/Login.js"],"names":["React","Component","Col","Row","Container","Button","Form","axios","WooCommerce","Login","props","loginUser","console","log","state","email","req","username","password","apiHost","fetch","method","body","JSON","stringify","headers","then","response","json","result","token","localStorage","setItem","user_display_name","setState","message","redirectLogin","catch","error","shandleChange","e","preventDefault","target","name","value","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Col, Row, Container, Button, Form } from 'react-bootstrap';\nimport axios from 'axios';\nimport WooCommerce from '../Api';\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n       //this.shandleChange = this.shandleChange.bind(this);\n    this.state = {\n      error: null,\n\t  email: '',\n\t  password: '',\n    };\n  }\n\n\n  loginUser = () => {\n \t\n\tconsole.log(this.state.email);\n\tif (this.state.email) {\n\tvar req = { username: this.state.email, password: this.state.password };\n\tvar apiHost = 'http://veronica.codingkloud.com/wp-json';\n    fetch(apiHost + '/jwt-auth/v1/token', {\n            method: \"POST\",\n            body: JSON.stringify(req),\n            headers: {'Content-Type':'application/json'},\n        }).then((response) => response.json())\n                .then((result) => {\n\t\t\t        if(result.token){\n\t\t\t        \tconsole.log(result.token);\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", result.token);\n\t\t\t\t\t\tlocalStorage.setItem(\"display_name\", result.user_display_name);\n\t\t\t\t\t\tthis.setState({message: \"User login successfully\", redirectLogin: true});\n\n\t\t\t\t\t}\n                   \n                })\n                .catch((error) => {\n                    \n                    console.error(error);\n                });\n\t}\n\n  }\nhandleChange(e){\n  this.setState({[e.target.name]: e.target.value})\n}\n shandleChange = (e) => {\n\t  e.preventDefault();\n\t  this.loginUser();\n\t\t\n}\n    \n  componentDidMount(){\n    this.loginUser();\n  }\n\n  \n  render() {\n  \t//console.log(this.state.password);\n    return (\n      <div>\n       <Container>\n       <Form onSubmit={this.shandleChange}>\n  <Form.Group controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control type=\"email\" placeholder=\"Enter email\" name=\"email\" onChange={(e) => this.handleChange(e)}/>\n  </Form.Group>\n  <Form.Group controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control type=\"password\" name=\"password\" placeholder=\"Password\"  onChange={(e) => this.handleChange(e)}/>\n  </Form.Group>\n  <Button variant=\"primary\" type=\"submit\" >\n    Submit\n  </Button>\n</Form>\n      \n       </Container>\n       </div>\n    );\n  }\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}